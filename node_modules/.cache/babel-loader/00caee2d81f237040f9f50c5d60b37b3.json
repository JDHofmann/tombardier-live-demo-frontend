{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/jdbrewer-hofmann/Development/code/Mod5/tombardier-frontend-demo/src/containers/Contact.js\";\nimport React from 'react';\nimport Link from '../components/Link';\nimport NewLink from '../components/NewLink';\nimport LocalEditBtn from '../components/LocalEditBtn';\n\nclass Contact extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      contact_email: this.props.user.contact_email,\n      editMode: false,\n      showNewLink: false\n    };\n\n    this.toggleEditMode = () => {\n      this.setState(prevState => ({\n        editMode: !prevState.editMode\n      }));\n    };\n\n    this.showNewLinkForm = () => {\n      this.setState({\n        showNewLink: true\n      });\n    };\n\n    this.hideNewLinkForm = () => {\n      this.setState({\n        showNewLink: false\n      });\n    };\n\n    this.renderUserLinks = () => {\n      return this.props.user.user_links.map(ul => /*#__PURE__*/_jsxDEV(Link, {\n        link: ul\n      }, ul.link_url, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, this));\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.submitHandler = e => {\n      e.preventDefault();\n      let patchObj = { ...this.state\n      };\n      delete patchObj.editMode;\n      delete patchObj.showNewLink;\n      console.log(patchObj);\n      this.props.editSiteInfo(patchObj);\n      this.setState({\n        editMode: false\n      });\n    };\n\n    this.renderNewLink = () => {\n      if (this.props.currentUser) {\n        if (this.state.showNewLink) {\n          return /*#__PURE__*/_jsxDEV(NewLink, {\n            createUserLink: this.props.createUserLink,\n            userId: this.props.user.id,\n            hideNewLinkForm: this.hideNewLinkForm\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 24\n          }, this);\n        } else {\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"update\",\n            onClick: this.showNewLinkForm,\n            children: \"Add New Link\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 24\n          }, this);\n        }\n      }\n    };\n\n    this.renderEditButton = () => {\n      return /*#__PURE__*/_jsxDEV(LocalEditBtn, {\n        editMode: this.state.editMode,\n        toggleEditMode: this.toggleEditMode\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 18\n      }, this);\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-wrapper\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"section-header\",\n        children: \"Contact\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), this.state.editMode ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: this.submitHandler,\n          className: \"content-sub-div\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"content-row\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            title: \"Please provide a valid email address\",\n            className: \"content-row tab grid-1-3\",\n            name: \"contact_email\",\n            value: this.state.contact_email,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"update grid-1-2\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), this.renderEditButton()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-sub-div\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"content-row\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"content-row tab grid-1-3\",\n          href: `mailTo:${this.props.user.contact_email}`,\n          children: this.props.user.contact_email\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 25\n        }, this), this.renderEditButton()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        className: \"section-header\",\n        children: \"Links\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: this.renderUserLinks()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this), this.renderNewLink()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Contact;","map":{"version":3,"sources":["/Users/jdbrewer-hofmann/Development/code/Mod5/tombardier-frontend-demo/src/containers/Contact.js"],"names":["React","Link","NewLink","LocalEditBtn","Contact","Component","state","contact_email","props","user","editMode","showNewLink","toggleEditMode","setState","prevState","showNewLinkForm","hideNewLinkForm","renderUserLinks","user_links","map","ul","link_url","handleChange","e","target","name","value","submitHandler","preventDefault","patchObj","console","log","editSiteInfo","renderNewLink","currentUser","createUserLink","id","renderEditButton","render"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Link from '../components/Link'\nimport NewLink from '../components/NewLink';\n\nimport LocalEditBtn from '../components/LocalEditBtn'\n\n\n\nclass Contact extends React.Component{\n\n    state = {\n        contact_email: this.props.user.contact_email,\n        editMode: false,\n        showNewLink: false\n    }\n\n    toggleEditMode = () => {\n        this.setState( prevState => ({\n            editMode: !prevState.editMode\n        }) )\n    }\n\n    showNewLinkForm = () => {\n        this.setState({ showNewLink: true })\n    }\n\n    hideNewLinkForm = () => {\n        this.setState({ showNewLink: false })\n    }\n\n    renderUserLinks = () => {\n    return this.props.user.user_links.map(ul =>\n            <Link \n                key={ul.link_url}\n                link={ul}\n            />\n    )}\n\n    handleChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    submitHandler = (e) => {\n        e.preventDefault()\n        let patchObj = {...this.state}    \n        delete patchObj.editMode\n        delete patchObj.showNewLink   \n        console.log(patchObj)\n        this.props.editSiteInfo(patchObj)\n        this.setState({\n            editMode: false\n        })\n    }\n\n    renderNewLink = () => {\n        if(this.props.currentUser){\n            if(this.state.showNewLink){\n                return <NewLink \n                        createUserLink={this.props.createUserLink}\n                        userId={this.props.user.id}\n                        hideNewLinkForm={this.hideNewLinkForm}\n                    />\n            } else {\n                return <button\n                        className=\"update\"\n                        onClick={this.showNewLinkForm}\n                    >Add New Link</button>\n            }   \n        }\n    }\n  \n    renderEditButton = () => {\n        return   <LocalEditBtn \n            editMode={this.state.editMode}\n            toggleEditMode={this.toggleEditMode}\n        />\n    }\n\n    render(){\n\n        return(\n            <div className=\"content-wrapper\">\n                <h2 className=\"section-header\">Contact</h2>\n                { this.state.editMode ? \n                    <>\n                    <form \n                        onSubmit={this.submitHandler}\n                        className=\"content-sub-div\">\n                        <label className=\"content-row\">Email</label>\n                        <input\n                            type=\"email\"\n                            title=\"Please provide a valid email address\"\n                            className=\"content-row tab grid-1-3\"\n                            name=\"contact_email\"\n                            value={this.state.contact_email}\n                            onChange={this.handleChange}\n                        ></input>\n                        <button \n                            type=\"submit\"\n                            className=\"update grid-1-2\"\n                        >Update</button>\n                        {this.renderEditButton()}\n                    </form>\n                    </>\n                    :\n                    <div className=\"content-sub-div\">\n                        <h4 className=\"content-row\">Email</h4>\n                        <a \n                            className=\"content-row tab grid-1-3\"\n                            href={`mailTo:${this.props.user.contact_email}`}\n                            >{this.props.user.contact_email}</a>\n                        {this.renderEditButton()}\n                    </div>\n                }\n                <h4 className=\"section-header\">Links</h4>\n                <ul>\n                    {this.renderUserLinks()}\n                </ul>\n\n                {this.renderNewLink()}\n            \n            </div>\n        )\n    }\n}\n\nexport default Contact"]},"metadata":{},"sourceType":"module"}