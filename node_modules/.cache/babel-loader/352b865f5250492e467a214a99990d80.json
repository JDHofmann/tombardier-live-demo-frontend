{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/jdbrewer-hofmann/Development/code/tombardier-live-demo/frontend/src/components/NewProjectImage.js\";\nimport React from 'react';\nimport ProjectImageForm from './ProjectImageForm'; // import ProjectImages from './ProjectImages';\n\nclass NewProjectImage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      image: null,\n      tempImage: null\n    };\n\n    this.handleFileChange = e => {\n      const uploadingFile = e.target.files[0];\n      const fileReader = new FileReader();\n\n      fileReader.onloadend = () => {\n        this.setState({\n          image: uploadingFile,\n          tempImage: fileReader.result\n        });\n      };\n\n      if (uploadingFile) {\n        fileReader.readAsDataURL(uploadingFile);\n      }\n    };\n\n    this.handleImageSubmit = e => {\n      e.preventDefault();\n      let projectId = this.props.projectId;\n      const formData = new FormData();\n\n      if (this.state.image) {\n        formData.append('project_image[image]', this.state.image);\n      }\n\n      formData.append('project_image[project_id]', projectId);\n      this.props.brandnewProjectImage(formData);\n      this.props.hideNewImageForm();\n    };\n\n    this.renderPreview = () => {\n      return this.state.tempImage ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-sub-div\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"pj-image grid-1-4\",\n          alt: \"\",\n          src: this.state.tempImage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"image-prev-statement grid-1-4\",\n          children: \"How does that look?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this) : null;\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"Add a New Image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this), this.renderPreview(), /*#__PURE__*/_jsxDEV(ProjectImageForm, {\n        preview: this.preview,\n        handleFileChange: this.handleFileChange,\n        handleImageSubmit: this.handleImageSubmit,\n        hideNewImageForm: this.props.hideNewImageForm\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default NewProjectImage;","map":{"version":3,"sources":["/Users/jdbrewer-hofmann/Development/code/tombardier-live-demo/frontend/src/components/NewProjectImage.js"],"names":["React","ProjectImageForm","NewProjectImage","Component","state","image","tempImage","handleFileChange","e","uploadingFile","target","files","fileReader","FileReader","onloadend","setState","result","readAsDataURL","handleImageSubmit","preventDefault","projectId","props","formData","FormData","append","brandnewProjectImage","hideNewImageForm","renderPreview","render","preview"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,gBAAP,MAA6B,oBAA7B,C,CACA;;AAEA,MAAMC,eAAN,SAA8BF,KAAK,CAACG,SAApC,CAA8C;AAAA;AAAA;AAAA,SAC1CC,KAD0C,GAClC;AACJC,MAAAA,KAAK,EAAE,IADH;AAEJC,MAAAA,SAAS,EAAE;AAFP,KADkC;;AAAA,SAM1CC,gBAN0C,GAMtBC,CAAD,IAAO;AACtB,YAAMC,aAAa,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAT,CAAe,CAAf,CAAtB;AACA,YAAMC,UAAU,GAAG,IAAIC,UAAJ,EAAnB;;AACAD,MAAAA,UAAU,CAACE,SAAX,GAAuB,MAAM;AACzB,aAAKC,QAAL,CAAc;AACdV,UAAAA,KAAK,EAAEI,aADO;AAEdH,UAAAA,SAAS,EAAEM,UAAU,CAACI;AAFR,SAAd;AAIH,OALD;;AAMA,UAAIP,aAAJ,EAAkB;AACdG,QAAAA,UAAU,CAACK,aAAX,CAAyBR,aAAzB;AACH;AACJ,KAlByC;;AAAA,SAoB1CS,iBApB0C,GAoBrBV,CAAD,IAAO;AACvBA,MAAAA,CAAC,CAACW,cAAF;AACA,UAAIC,SAAS,GAAG,KAAKC,KAAL,CAAWD,SAA3B;AACA,YAAME,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;;AACA,UAAG,KAAKnB,KAAL,CAAWC,KAAd,EAAoB;AAClBiB,QAAAA,QAAQ,CAACE,MAAT,CAAgB,sBAAhB,EAAwC,KAAKpB,KAAL,CAAWC,KAAnD;AACD;;AACDiB,MAAAA,QAAQ,CAACE,MAAT,CAAgB,2BAAhB,EAA6CJ,SAA7C;AACA,WAAKC,KAAL,CAAWI,oBAAX,CAAgCH,QAAhC;AACA,WAAKD,KAAL,CAAWK,gBAAX;AACH,KA9ByC;;AAAA,SAgC1CC,aAhC0C,GAgC1B,MAAM;AAClB,aAAO,KAAKvB,KAAL,CAAWE,SAAX,gBACP;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA,gCACA;AACI,UAAA,SAAS,EAAC,mBADd;AAEI,UAAA,GAAG,EAAC,EAFR;AAGI,UAAA,GAAG,EAAE,KAAKF,KAAL,CAAWE;AAHpB;AAAA;AAAA;AAAA;AAAA,gBADA,eAMI;AAAG,UAAA,SAAS,EAAC,+BAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADO,GAQE,IART;AASH,KA1CyC;AAAA;;AA4C1CsB,EAAAA,MAAM,GAAE;AACJ,wBACI;AAAA,8BACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEK,KAAKD,aAAL,EAFL,eAGI,QAAC,gBAAD;AACI,QAAA,OAAO,EAAE,KAAKE,OADlB;AAEI,QAAA,gBAAgB,EAAE,KAAKtB,gBAF3B;AAGI,QAAA,iBAAiB,EAAE,KAAKW,iBAH5B;AAII,QAAA,gBAAgB,EAAE,KAAKG,KAAL,CAAWK;AAJjC;AAAA;AAAA;AAAA;AAAA,cAHJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAYH;;AAzDyC;;AA2D9C,eAAexB,eAAf","sourcesContent":["import React from 'react'\nimport ProjectImageForm from './ProjectImageForm';\n// import ProjectImages from './ProjectImages';\n\nclass NewProjectImage extends React.Component {\n    state = {\n        image: null,\n        tempImage: null\n    }\n\n    handleFileChange = (e) => {\n        const uploadingFile = e.target.files[0]\n        const fileReader = new FileReader();\n        fileReader.onloadend = () => {\n            this.setState({\n            image: uploadingFile,\n            tempImage: fileReader.result\n        })\n        }\n        if (uploadingFile){\n            fileReader.readAsDataURL(uploadingFile)\n        } \n    }\n\n    handleImageSubmit = (e) => {\n        e.preventDefault()\n        let projectId = this.props.projectId\n        const formData = new FormData();\n        if(this.state.image){\n          formData.append('project_image[image]', this.state.image)\n        }\n        formData.append('project_image[project_id]', projectId)\n        this.props.brandnewProjectImage(formData)\n        this.props.hideNewImageForm()\n    }\n\n    renderPreview = () => {\n        return this.state.tempImage ? \n        <div className=\"content-sub-div\">\n        <img \n            className=\"pj-image grid-1-4\"\n            alt=\"\" \n            src={this.state.tempImage}>\n            </img>\n            <p className=\"image-prev-statement grid-1-4\">How does that look?</p>\n        </div> : null\n    }\n\n    render(){\n        return(\n            <div>\n                <h4>Add a New Image</h4>\n                {this.renderPreview()}\n                <ProjectImageForm \n                    preview={this.preview}\n                    handleFileChange={this.handleFileChange}\n                    handleImageSubmit={this.handleImageSubmit}\n                    hideNewImageForm={this.props.hideNewImageForm}\n                />\n            </div>\n        )\n    }\n}\nexport default NewProjectImage"]},"metadata":{},"sourceType":"module"}